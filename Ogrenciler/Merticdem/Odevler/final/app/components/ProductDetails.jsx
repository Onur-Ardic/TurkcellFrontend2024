"use client";
import Image from "next/image";
import { useState, useEffect } from "react";
import { useDispatch } from "react-redux";
import { addToCart } from "../redux/features/cartSlice";
import toast from "react-hot-toast";
import { onAuthStateChanged } from "firebase/auth";
import { auth } from "../firebase/firebase";

const ProductDetails = ({ productType, id }) => {
  const [product, setProduct] = useState({});

  useEffect(() => {
    fetch(`http://localhost:3001/${productType}/${id}`, { cache: "no-store" })
      .then((res) => res.json())
      .then((data) => setProduct(data));
  }, [productType, id]);

  const [quantity, setQuantity] = useState(1);

  const dispatch = useDispatch();

  const colors = ["Black", "Blue", "Red", "Orange", "Green", "White", "Brown"];

  const [users, setUsers] = useState(null);

  useEffect(() => {
    onAuthStateChanged(auth, (user) => {
      if (user) {
        const uid = user.uid;
        setUsers(user);
      }
    });
  }, []);

  const handleAddToCart = () => {
    if (users?.email) {
      dispatch(addToCart({ product, quantity }));
      setQuantity(1);
    } else {
      toast.error("Log in to add products to your cart.");
      setTimeout(() => {
        window.location = "/auth";
      }, 2000);
    }
  };

  return (
    <div className="productDetails-container">
      <div className="container">
        <div className="d-flex align-items-center my-5">
          Home
          <svg
            className="me-1 mt-1"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.53073 2.46937L11.5307 7.46937C11.6007 7.53905 11.6561 7.62184 11.694 7.71301C11.7318 7.80417 11.7513 7.90191 11.7513 8.00062C11.7513 8.09933 11.7318 8.19707 11.694 8.28824C11.6561 8.3794 11.6007 8.46219 11.5307 8.53187L6.53073 13.5319C6.38984 13.6728 6.19874 13.7519 5.99948 13.7519C5.80023 13.7519 5.60913 13.6728 5.46823 13.5319C5.32734 13.391 5.24818 13.1999 5.24818 13.0006C5.24818 12.8014 5.32734 12.6103 5.46823 12.4694L9.93761 8L5.46761 3.53062C5.32671 3.38973 5.24756 3.19863 5.24756 2.99937C5.24756 2.80011 5.32671 2.60902 5.46761 2.46812C5.60851 2.32723 5.7996 2.24807 5.99886 2.24807C6.19812 2.24807 6.38921 2.32723 6.53011 2.46812L6.53073 2.46937Z"
              fill="black"
              city="0.6"
            />
          </svg>
          Shop
          <svg
            className="me-1 mt-1"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.53073 2.46937L11.5307 7.46937C11.6007 7.53905 11.6561 7.62184 11.694 7.71301C11.7318 7.80417 11.7513 7.90191 11.7513 8.00062C11.7513 8.09933 11.7318 8.19707 11.694 8.28824C11.6561 8.3794 11.6007 8.46219 11.5307 8.53187L6.53073 13.5319C6.38984 13.6728 6.19874 13.7519 5.99948 13.7519C5.80023 13.7519 5.60913 13.6728 5.46823 13.5319C5.32734 13.391 5.24818 13.1999 5.24818 13.0006C5.24818 12.8014 5.32734 12.6103 5.46823 12.4694L9.93761 8L5.46761 3.53062C5.32671 3.38973 5.24756 3.19863 5.24756 2.99937C5.24756 2.80011 5.32671 2.60902 5.46761 2.46812C5.60851 2.32723 5.7996 2.24807 5.99886 2.24807C6.19812 2.24807 6.38921 2.32723 6.53011 2.46812L6.53073 2.46937Z"
              fill="black"
              city="0.6"
            />
          </svg>
          {product?.gender}
          <svg
            className="me-1 mt-1"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.53073 2.46937L11.5307 7.46937C11.6007 7.53905 11.6561 7.62184 11.694 7.71301C11.7318 7.80417 11.7513 7.90191 11.7513 8.00062C11.7513 8.09933 11.7318 8.19707 11.694 8.28824C11.6561 8.3794 11.6007 8.46219 11.5307 8.53187L6.53073 13.5319C6.38984 13.6728 6.19874 13.7519 5.99948 13.7519C5.80023 13.7519 5.60913 13.6728 5.46823 13.5319C5.32734 13.391 5.24818 13.1999 5.24818 13.0006C5.24818 12.8014 5.32734 12.6103 5.46823 12.4694L9.93761 8L5.46761 3.53062C5.32671 3.38973 5.24756 3.19863 5.24756 2.99937C5.24756 2.80011 5.32671 2.60902 5.46761 2.46812C5.60851 2.32723 5.7996 2.24807 5.99886 2.24807C6.19812 2.24807 6.38921 2.32723 6.53011 2.46812L6.53073 2.46937Z"
              fill="black"
              city="0.6"
            />
          </svg>
          {product?.dressStyle}
        </div>
        <div className="row">
          <div className="left col-12 col-md-6 gap-2">
            <div className="col-12 col-md-3 small-images">
              <div className="row">
                <div className="col-4 col-md-12">
                  <Image
                    src={product?.imgUrl}
                    className="img-fluid mb-3 image first-image"
                    width={152}
                    height={167}
                  />
                </div>
                <div className="col-4 col-md-12">
                  <Image
                    src={product?.imgUrl}
                    className="img-fluid mb-3 image"
                    width={152}
                    height={167}
                  />
                </div>
                <div className="col-4 col-md-12">
                  <Image
                    src={product?.imgUrl}
                    className="img-fluid mb-3 image"
                    width={152}
                    height={167}
                  />
                </div>
              </div>
            </div>
            <div className="col-12 col-md-9 large-image">
              <Image
                src={product?.imgUrl}
                className="img-fluid mb-3 image w-100"
                width={430}
                height={530}
              />
            </div>
          </div>

          <div className="right col-12 col-md-6">
            {product.title && (
              <h2 className="mb-2">{product.title.toUpperCase()}</h2>
            )}
            <div className="d-flex gap-2">
              <Image
                className="mt-1"
                src={product?.starImgUrl}
                width={80}
                height={18}
              />
              <p className="fw-bold">
                {product?.star}
                <span className="fw-light">/5</span>
              </p>
            </div>
            <div className="d-flex gap-2 mb-2">
              <p className="price fw-bold">${product?.price}</p>
              {product?.oldPrice && product.oldPrice != "" && (
                <p className="oldPrice text-decoration-line-through">
                  ${product.oldPrice}
                </p>
              )}
              {product?.discount && product.discount != "" && (
                <p className="discount">{product.discount}</p>
              )}
            </div>
            <p className="text-muted product-content pb-3">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus
              imperdiet, sapien a accumsan mollis, felis erat fermentum augue,
              id blandit ex orci lobortis diam. Donec gravida euismod aliquam.
            </p>
            <div>
              <p className="text-muted">Select Colors</p>
              <div className="d-flex gap-2 colors pb-3">
                {colors.map((color, index) => {
                  const isWhite = color == "White";
                  const checkMarkColor = isWhite ? "black" : "white";

                  return (
                    <svg
                      className="mb-1"
                      key={index}
                      width="37"
                      height="37"
                      viewBox="0 0 37 37"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle cx="18.5" cy="18.5001" r="18.5" fill={color} />
                      <circle
                        cx="18.5"
                        cy="18.5001"
                        r="17.5"
                        stroke="black"
                        strokeOpacity="0.2"
                        strokeWidth="2"
                      />
                      {color == product.color && (
                        <path
                          d="M13 20 L17 24 L24 17"
                          stroke={checkMarkColor}
                          strokeWidth="2"
                          fill="none"
                        />
                      )}
                    </svg>
                  );
                })}
              </div>
            </div>
            <div className="mb-3">
              <p className="text-muted my-3">Choose Size</p>
              <div className="d-flex gap-3 sizes pb-3">
                <svg
                  width="86"
                  height="46"
                  viewBox="0 0 86 46"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="86" height="46" rx="23" fill="#F0F0F0" />
                  <path
                    d="M24.704 20.52C24.704 18.6 26.24 17.336 28.544 17.336C30.608 17.336 31.968 18.488 32.144 20.408H30.976C30.848 19.112 29.968 18.376 28.528 18.376C26.912 18.376 25.856 19.208 25.856 20.504C25.856 21.512 26.448 22.152 27.648 22.456L29.616 22.936C31.408 23.368 32.336 24.392 32.336 25.944C32.336 27.928 30.8 29.192 28.432 29.192C26.208 29.192 24.704 28.024 24.56 26.152H25.744C25.808 27.352 26.864 28.136 28.432 28.136C30.112 28.136 31.184 27.32 31.184 26.008C31.184 24.984 30.608 24.312 29.376 24.024L27.44 23.544C25.648 23.112 24.704 22.088 24.704 20.52ZM35.2716 29H34.1676V21.256H35.1276L35.2556 22.36C35.6396 21.544 36.5036 21.048 37.5916 21.048C38.8076 21.048 39.7196 21.688 40.0876 22.696C40.4396 21.688 41.3836 21.048 42.6316 21.048C44.3116 21.048 45.4156 22.136 45.4156 23.928V29H44.3436V24.152C44.3436 22.824 43.6076 22.04 42.4236 22.04C41.1276 22.04 40.3596 23.016 40.3596 24.216V29H39.2716V24.136C39.2716 22.824 38.5196 22.056 37.3516 22.056C36.0556 22.056 35.2716 23.016 35.2716 24.2V29ZM49.8604 29.192C48.2124 29.192 47.2364 28.264 47.2364 26.904C47.2364 25.48 48.3244 24.584 50.1324 24.44L52.6924 24.232V23.976C52.6924 22.456 51.7804 21.976 50.6444 21.976C49.3004 21.976 48.5004 22.584 48.5004 23.624H47.4924C47.4924 22.056 48.7724 21.048 50.6764 21.048C52.4684 21.048 53.7804 21.944 53.7804 23.992V29H52.8524L52.7084 27.64C52.2284 28.616 51.1724 29.192 49.8604 29.192ZM50.1164 28.296C51.7484 28.296 52.6924 27.16 52.6924 25.48V25.064L50.4044 25.24C48.9484 25.368 48.3564 26.008 48.3564 26.872C48.3564 27.816 49.0604 28.296 50.1164 28.296ZM57.1478 29H56.0438V17.336H57.1478V29ZM60.6478 29H59.5438V17.336H60.6478V29Z"
                    fill="black"
                    city="0.6"
                  />
                </svg>
                <svg
                  width="105"
                  height="46"
                  viewBox="0 0 105 46"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="105" height="46" rx="23" fill="#F0F0F0" />
                  <path
                    d="M26.528 29H25.392V17.544H26.528L30.704 27.64L34.88 17.544H36.032V29H34.896V23.56C34.896 21.56 34.928 20.68 34.992 19.896L31.264 29H30.16L26.432 19.944C26.496 20.376 26.528 21.64 26.528 23.384V29ZM41.8219 29.192C39.5499 29.192 38.0299 27.56 38.0299 25.128C38.0299 22.712 39.5339 21.048 41.7419 21.048C43.8379 21.048 45.2619 22.536 45.2619 24.728V25.272H39.1019C39.1819 27.16 40.1739 28.248 41.8379 28.248C43.1019 28.248 43.9179 27.704 44.2059 26.68H45.2619C44.8459 28.312 43.6459 29.192 41.8219 29.192ZM41.7419 21.992C40.2859 21.992 39.3259 22.952 39.1339 24.472H44.1579C44.1579 22.984 43.1979 21.992 41.7419 21.992ZM50.067 29.192C47.811 29.192 46.483 27.464 46.483 25.144C46.483 22.808 47.811 21.048 50.115 21.048C51.395 21.048 52.419 21.608 52.963 22.728V17.336H54.067V29H53.107L52.995 27.416C52.451 28.616 51.363 29.192 50.067 29.192ZM50.259 28.184C51.955 28.184 52.947 26.904 52.947 25.112C52.947 23.336 51.955 22.04 50.259 22.04C48.579 22.04 47.603 23.336 47.603 25.112C47.603 26.904 48.579 28.184 50.259 28.184ZM56.9148 19.128C56.4668 19.128 56.0988 18.76 56.0988 18.312C56.0988 17.864 56.4668 17.48 56.9148 17.48C57.3628 17.48 57.7468 17.864 57.7468 18.312C57.7468 18.76 57.3628 19.128 56.9148 19.128ZM56.3708 29V21.256H57.4748V29H56.3708ZM64.7326 21.256H65.8366V29H64.8766L64.7326 27.688C64.3006 28.584 63.2286 29.192 62.0126 29.192C60.1886 29.192 59.1966 27.944 59.1966 26.056V21.24H60.3166V25.704C60.3166 27.544 61.1326 28.2 62.3646 28.2C63.8526 28.2 64.7326 27.208 64.7326 25.368V21.256ZM69.2404 29H68.1364V21.256H69.0964L69.2244 22.36C69.6084 21.544 70.4724 21.048 71.5604 21.048C72.7764 21.048 73.6884 21.688 74.0564 22.696C74.4084 21.688 75.3524 21.048 76.6004 21.048C78.2804 21.048 79.3844 22.136 79.3844 23.928V29H78.3124V24.152C78.3124 22.824 77.5764 22.04 76.3924 22.04C75.0964 22.04 74.3284 23.016 74.3284 24.216V29H73.2404V24.136C73.2404 22.824 72.4884 22.056 71.3204 22.056C70.0244 22.056 69.2404 23.016 69.2404 24.2V29Z"
                    fill="black"
                    city="0.6"
                  />
                </svg>
                <svg
                  width="89"
                  height="46"
                  viewBox="0 0 89 46"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="89" height="46" rx="23" fill="black" />
                  <path
                    d="M26.912 17.432V27.544H32V29H25.344V17.432H26.912ZM35.7354 29.192C34.0554 29.192 33.0634 28.248 33.0634 26.824C33.0634 25.384 34.1354 24.488 35.9754 24.344L38.4394 24.152V23.928C38.4394 22.616 37.6554 22.152 36.5994 22.152C35.3354 22.152 34.6154 22.712 34.6154 23.656H33.3034C33.3034 22.024 34.6474 20.952 36.6634 20.952C38.5994 20.952 39.9114 21.976 39.9114 24.088V29H38.6314L38.4714 27.736C38.0714 28.632 36.9994 29.192 35.7354 29.192ZM36.1674 28.024C37.5914 28.024 38.4554 27.096 38.4554 25.624V25.208L36.4554 25.368C35.1274 25.496 34.5834 26.008 34.5834 26.776C34.5834 27.608 35.1914 28.024 36.1674 28.024ZM46.4743 21.112V22.488H45.8023C44.3783 22.488 43.4983 23.352 43.4983 24.856V29H41.9943V21.192H43.4023L43.4983 22.376C43.8183 21.56 44.6023 21.016 45.6743 21.016C45.9463 21.016 46.1703 21.048 46.4743 21.112ZM47.217 24.888C47.217 22.68 48.641 20.952 50.913 20.952C52.177 20.952 53.153 21.528 53.649 22.504L53.761 21.176H55.105V28.68C55.105 31.144 53.585 32.712 51.185 32.712C49.057 32.712 47.601 31.512 47.313 29.528H48.817C49.009 30.68 49.873 31.352 51.185 31.352C52.657 31.352 53.617 30.392 53.617 28.904V27.336C53.105 28.248 52.081 28.792 50.849 28.792C48.625 28.792 47.217 27.08 47.217 24.888ZM48.721 24.856C48.721 26.328 49.633 27.48 51.105 27.48C52.625 27.48 53.553 26.392 53.553 24.856C53.553 23.352 52.657 22.264 51.121 22.264C49.617 22.264 48.721 23.416 48.721 24.856ZM60.6515 29.192C58.3475 29.192 56.7635 27.528 56.7635 25.096C56.7635 22.648 58.3155 20.952 60.5875 20.952C62.8115 20.952 64.2675 22.488 64.2675 24.808V25.368L58.2195 25.384C58.3315 27.032 59.1955 27.944 60.6835 27.944C61.8515 27.944 62.6195 27.464 62.8755 26.568H64.2835C63.8995 28.248 62.5875 29.192 60.6515 29.192ZM60.5875 22.216C59.2755 22.216 58.4435 23 58.2515 24.376H62.7635C62.7635 23.08 61.9155 22.216 60.5875 22.216Z"
                    fill="white"
                  />
                </svg>
                <svg
                  width="104"
                  height="46"
                  viewBox="0 0 104 46"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="104" height="46" rx="23" fill="#F0F0F0" />
                  <path
                    d="M28.224 23.288L24.224 17.544H25.584L27.712 20.552C28.256 21.32 28.624 21.928 28.896 22.44L32.224 17.544H33.552L29.616 23.256L33.616 29H32.24L30.064 25.928C29.68 25.384 29.216 24.68 28.928 24.168L25.584 29H24.24L28.224 23.288ZM34.6178 25.288V24.296H39.2578V25.288H34.6178ZM42.8253 17.544V27.944H48.0893V29H41.6733V17.544H42.8253ZM51.7979 29.192C50.1499 29.192 49.1739 28.264 49.1739 26.904C49.1739 25.48 50.2619 24.584 52.0699 24.44L54.6299 24.232V23.976C54.6299 22.456 53.7179 21.976 52.5819 21.976C51.2379 21.976 50.4379 22.584 50.4379 23.624H49.4299C49.4299 22.056 50.7099 21.048 52.6139 21.048C54.4059 21.048 55.7179 21.944 55.7179 23.992V29H54.7899L54.6459 27.64C54.1659 28.616 53.1099 29.192 51.7979 29.192ZM52.0539 28.296C53.6859 28.296 54.6299 27.16 54.6299 25.48V25.064L52.3419 25.24C50.8859 25.368 50.2939 26.008 50.2939 26.872C50.2939 27.816 50.9979 28.296 52.0539 28.296ZM61.9813 21.16V22.152H61.3733C59.9493 22.152 59.0373 23.112 59.0373 24.584V29H57.9333V21.256H58.9733L59.0533 22.456C59.3573 21.624 60.1733 21.08 61.2613 21.08C61.5013 21.08 61.7093 21.096 61.9813 21.16ZM62.7803 24.904C62.7803 22.792 64.1403 21.048 66.4123 21.048C67.7563 21.048 68.7803 21.672 69.2763 22.808L69.3883 21.256H70.3483V28.76C70.3483 31.064 68.8763 32.568 66.6043 32.568C64.6203 32.568 63.2283 31.448 62.9243 29.576H64.0283C64.2682 30.824 65.2283 31.56 66.6203 31.56C68.2043 31.56 69.2603 30.488 69.2603 28.872V27.032C68.7323 28.12 67.6603 28.76 66.3323 28.76C64.1243 28.76 62.7803 27.016 62.7803 24.904ZM63.8843 24.888C63.8843 26.472 64.8603 27.768 66.4923 27.768C68.1723 27.768 69.1643 26.552 69.1643 24.888C69.1643 23.24 68.2043 22.024 66.5083 22.024C64.8443 22.024 63.8843 23.32 63.8843 24.888ZM75.9 29.192C73.628 29.192 72.108 27.56 72.108 25.128C72.108 22.712 73.612 21.048 75.82 21.048C77.916 21.048 79.34 22.536 79.34 24.728V25.272H73.18C73.26 27.16 74.252 28.248 75.916 28.248C77.18 28.248 77.996 27.704 78.284 26.68H79.34C78.924 28.312 77.724 29.192 75.9 29.192ZM75.82 21.992C74.364 21.992 73.404 22.952 73.212 24.472H78.236C78.236 22.984 77.276 21.992 75.82 21.992Z"
                    fill="black"
                    city="0.6"
                  />
                </svg>
              </div>
            </div>
            <div className="buttons row">
              <div className="col-4 quantity">
                <div className="minus-plus-btn w-100 d-flex justify-content-between align-items-center">
                  {quantity <= 1 ? (
                    <div className="fs-2 btn small-btn d-flex align-items-center mt-1">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M17.8125 10C17.8125 10.2486 17.7137 10.4871 17.5379 10.6629C17.3621 10.8387 17.1236 10.9375 16.875 10.9375H3.125C2.87636 10.9375 2.6379 10.8387 2.46209 10.6629C2.28627 10.4871 2.1875 10.2486 2.1875 10C2.1875 9.75136 2.28627 9.5129 2.46209 9.33709C2.6379 9.16127 2.87636 9.0625 3.125 9.0625H16.875C17.1236 9.0625 17.3621 9.16127 17.5379 9.33709C17.7137 9.5129 17.8125 9.75136 17.8125 10Z"
                          fill="black"
                        />
                      </svg>
                    </div>
                  ) : (
                    <div
                      className="fs-2 btn small-btn d-flex align-items-center mt-1"
                      onClick={() => setQuantity(quantity - 1)}
                    >
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M17.8125 10C17.8125 10.2486 17.7137 10.4871 17.5379 10.6629C17.3621 10.8387 17.1236 10.9375 16.875 10.9375H3.125C2.87636 10.9375 2.6379 10.8387 2.46209 10.6629C2.28627 10.4871 2.1875 10.2486 2.1875 10C2.1875 9.75136 2.28627 9.5129 2.46209 9.33709C2.6379 9.16127 2.87636 9.0625 3.125 9.0625H16.875C17.1236 9.0625 17.3621 9.16127 17.5379 9.33709C17.7137 9.5129 17.8125 9.75136 17.8125 10Z"
                          fill="black"
                        />
                      </svg>
                    </div>
                  )}
                  <div className="fs-3 d-flex align-items-center">
                    {quantity}
                  </div>
                  <div
                    className="fs-2 btn small-btn d-flex align-items-center mt-1"
                    onClick={() => setQuantity(quantity + 1)}
                  >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M17.8125 10C17.8125 10.2486 17.7137 10.4871 17.5379 10.6629C17.3621 10.8387 17.1236 10.9375 16.875 10.9375H10.9375V16.875C10.9375 17.1236 10.8387 17.3621 10.6629 17.5379C10.4871 17.7137 10.2486 17.8125 10 17.8125C9.75136 17.8125 9.5129 17.7137 9.33709 17.5379C9.16127 17.3621 9.0625 17.1236 9.0625 16.875V10.9375H3.125C2.87636 10.9375 2.6379 10.8387 2.46209 10.6629C2.28627 10.4871 2.1875 10.2486 2.1875 10C2.1875 9.75136 2.28627 9.5129 2.46209 9.33709C2.6379 9.16127 2.87636 9.0625 3.125 9.0625H9.0625V3.125C9.0625 2.87636 9.16127 2.6379 9.33709 2.46209C9.5129 2.28627 9.75136 2.1875 10 2.1875C10.2486 2.1875 10.4871 2.28627 10.6629 2.46209C10.8387 2.6379 10.9375 2.87636 10.9375 3.125V9.0625H16.875C17.1236 9.0625 17.3621 9.16127 17.5379 9.33709C17.7137 9.5129 17.8125 9.75136 17.8125 10Z"
                        fill="black"
                      />
                    </svg>
                  </div>
                </div>
              </div>
              <div className="col-8 addToCart">
                <button
                  onClick={handleAddToCart}
                  className="btn btn-dark text-center text-white w-100"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProductDetails;
